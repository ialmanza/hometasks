<nav class="app-navigation">
  <!-- DESKTOP NAVIGATION -->
  <div class="nav-desktop">
    <div class="logo">
      <img src="sin_fondo.png" alt="Family Planner Logo">
      <h1 class="text-[#2c3e50] dark:text-white">Family Planner</h1>
    </div>
    <ul class="nav-links">
      <li>
        <a routerLink="/expenses-dashboard" routerLinkActive="active">
          <fa-icon [icon]="faHome"></fa-icon>
          Inicio
        </a>
      </li>
      <li>
        <a routerLink="/tasks" routerLinkActive="active">
          <fa-icon [icon]="faTasks"></fa-icon>
          Tareas
        </a>
      </li>
      <li>
        <a routerLink="/shopping-list" routerLinkActive="active">
          <fa-icon [icon]="faShoppingCart"></fa-icon>
          Compras
        </a>
      </li>
      <li>
        <a routerLink="/expenses" routerLinkActive="active">
          <fa-icon [icon]="faDollarSign"></fa-icon>
          Gastos
        </a>
      </li>
      <!-- <li>
        <a routerLink="/members" routerLinkActive="active">
          <fa-icon [icon]="faUsers"></fa-icon>
          Miembros
        </a>
      </li> -->
      <!-- <li>
        <a routerLink="/activities" routerLinkActive="active">
          <fa-icon [icon]="faCalendar"></fa-icon>
          Actividades
        </a>
      </li> -->
      <li>
        <a routerLink="/calendar" routerLinkActive="active">
          <fa-icon [icon]="faCalendarAlt"></fa-icon>
          Calendario
        </a>
      </li>
      <!-- <li>
        <a routerLink="/weekly-planner" routerLinkActive="active">
          <fa-icon [icon]="faUtensils"></fa-icon>
          Comidas
        </a>
      </li> -->
      <li>
        <button class="logout-btn" (click)="logout()">
          <fa-icon [icon]="faSignOutAlt"></fa-icon>
          Cerrar Sesión
        </button>
      </li>
    </ul>
  </div>

  <!-- MOBILE NAVIGATION -->
  <div class="fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[430px] px-4 pb-6 pt-2 pointer-events-none">
    <!-- Bottom Tab Bar with integrated FAB -->
    <nav class="nav-mobile-new">
      <a 
        routerLink="/tasks" 
        routerLinkActive="active" 
        (click)="closeMoreMenu()"
        class="nav-tab">
        <fa-icon [icon]="faTasks" class="nav-icon"></fa-icon>
        <span class="nav-label">Tareas</span>
      </a>

      <a 
        routerLink="/shopping-list" 
        routerLinkActive="active" 
        (click)="closeMoreMenu()"
        class="nav-tab">
        <fa-icon [icon]="faShoppingCart" class="nav-icon"></fa-icon>
        <span class="nav-label">Compras</span>
      </a>

      <!-- Inicio en el centro con estilo especial -->
      <a 
        routerLink="/expenses-dashboard" 
        routerLinkActive="active" 
        (click)="closeMoreMenu()"
        class="nav-tab nav-tab-home">
        <fa-icon [icon]="faHome" class="nav-icon-home"></fa-icon>
      </a>

      <a 
        routerLink="/expenses" 
        routerLinkActive="active" 
        (click)="closeMoreMenu()"
        class="nav-tab">
        <fa-icon [icon]="faDollarSign" class="nav-icon"></fa-icon>
        <span class="nav-label">Transacciones</span>
      </a>

      <button 
        (click)="toggleMoreMenu()" 
        [class.active]="showMoreMenu"
        class="nav-tab">
        <fa-icon [icon]="faEllipsisV" class="nav-icon"></fa-icon>
        <span class="nav-label">Más</span>
      </button>
    </nav>
  </div>

  <!-- MODAL MENÚ MÁS -->
  <div *ngIf="showMoreMenu" class="more-menu-overlay" (click)="closeMoreMenu()">
    <div class="more-menu-content" (click)="$event.stopPropagation()">
      <div class="more-menu-header">
        <h3>Más opciones</h3>
        <button class="close-btn" (click)="closeMoreMenu()">
          <fa-icon [icon]="faEllipsisV"></fa-icon>
        </button>
      </div>

      <div class="more-menu-items">
        <!-- <a routerLink="/members" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faUsers"></fa-icon>
          <span>Miembros</span>
        </a> -->

        <!-- <a routerLink="/activities" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faCalendar"></fa-icon>
          <span>Actividades</span>
        </a> -->

        <a routerLink="/calendar" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faCalendarAlt"></fa-icon>
          <span>Calendario</span>
        </a>

        <!-- <a routerLink="/weekly-planner" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faUtensils"></fa-icon>
          <span>Comidas</span>
        </a> -->

        <!-- <a routerLink="/expenses-dashboard" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faDollarSign"></fa-icon>
          <span>Dashboard</span>
        </a> -->

        <a routerLink="/monthly-transactions" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faDollarSign"></fa-icon>
          <span>Gastos</span>
        </a>

        <a routerLink="/vacation-expenses" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faUmbrella"></fa-icon>
          <span>Vacaciones</span>
        </a>

        <a routerLink="/settings" routerLinkActive="active" (click)="closeMoreMenu()" class="more-menu-item">
          <fa-icon [icon]="faCog"></fa-icon>
          <span>Ajustes</span>
        </a>

        <button class="more-menu-item logout-btn" (click)="logout(); closeMoreMenu()">
          <fa-icon [icon]="faSignOutAlt"></fa-icon>
          <span>Cerrar Sesión</span>
        </button>
      </div>
    </div>
  </div>
</nav>
